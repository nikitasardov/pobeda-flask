# Чеклист реализации

## Подготовка (инфраструктура)

- [x] Создать `.gitignore`
- [x] Создать структуру каталогов (`app/`, `static/js/`, `data/`)
- [x] Создать `requirements.txt` (Flask 3.1.0)
- [x] `Dockerfile` — `python:3.12-slim`, установка зависимостей, запуск `app/app.py`
- [x] `docker-compose.yml` — сервис `web`, порт `5000:5000`, volume `./data:/app/data`

## Задание 1. Бэкенд (Python)

- [x] `app/config.py` — путь к БД (`data/users.db`), настройки приложения
- [x] `app/models.py` — работа с SQLite через `sqlite3`:
  - [x] `init_db()` — создание таблицы `users` (id, name, email)
  - [x] `seed_db()` — заполнение 5 тестовыми пользователями
  - [x] `get_all_users()` — получение всех пользователей
  - [x] `get_user_by_id(id)` — получение пользователя по id
- [x] `app/routes.py` — маршруты (Blueprint):
  - [x] `GET /users` — список всех пользователей (JSON)
  - [x] `GET /users/<id>` — пользователь по id (JSON)
- [x] `app/__init__.py` — фабрика приложения
- [x] `run.py` — точка входа: создание Flask-app, запуск сервера (вынесен из `app/` для избежания circular import)
- [x] Обработка ошибок:
  - [x] 404 — пользователь не найден
- [x] **Проверка:** запуск, GET `/users` и GET `/users/<id>` возвращают JSON

## Задание 2. Фронтенд (JavaScript)

- [x] `static/index.html` — самостоятельная HTML-страница:
  - [x] Подключение Bootstrap 5 (CDN)
  - [x] Таблица для отображения списка пользователей
  - [x] Модальное окно с детальной информацией о пользователе
- [x] `static/js/app.js` — клиентская логика:
  - [x] `loadUsers()` — загрузка списка пользователей (Fetch API → GET `/users`)
  - [x] Отрисовка таблицы
  - [x] Обработчик клика по строке → Fetch API → GET `/users/<id>` → модальное окно
- [x] Фронтенд отделён от бэкенда: nginx раздаёт статику, проксирует `/users` на Flask API
- [x] **Проверка:** страница отображает таблицу, клик открывает модалку с деталями

## Задание 3. Интеграция (Python + JavaScript)

- [x] `app/models.py` — добавить:
  - [x] `create_user(name, email)` — создание нового пользователя
- [x] `app/routes.py` — добавить:
  - [x] `POST /users` — создание пользователя (JSON)
  - [x] Валидация: 400 при пустом имени / некорректном email
- [x] `static/index.html` — добавить:
  - [x] Форма добавления нового пользователя
  - [x] Область для уведомлений об успехе / ошибке
- [x] `static/js/app.js` — добавить:
  - [x] Отправка формы (POST, Fetch API)
  - [x] Обновление таблицы без перезагрузки страницы
  - [x] Показ уведомления об успехе / ошибке
- [x] **Проверка:** форма отправляется, таблица обновляется, ошибки отображаются

## Docker

- [x] **Проверка:** `docker compose up --build`, приложение работает в контейнере

## Документация

- [x] Дополнить `README.md` инструкцией по запуску

## Финальная проверка

- [x] Сборка и запуск контейнера с нуля (без существующей БД)
- [x] Seed-данные появились в таблице
- [x] GET `/users` — JSON со списком
- [x] GET `/users/<id>` — JSON с пользователем
- [x] GET `/users/<несуществующий id>` — 404
- [x] POST `/users` — создание пользователя
- [x] POST `/users` с невалидными данными — 400
- [x] Таблица обновляется после добавления без перезагрузки
- [x] Модальное окно показывает детали по клику
- [x] Данные сохраняются после перезапуска контейнера
