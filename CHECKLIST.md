# Чеклист реализации

## Подготовка (инфраструктура)

- [x] Создать `.gitignore`
- [ ] Создать структуру каталогов (`app/`, `static/js/`, `data/`)
- [ ] Создать `requirements.txt` (Flask с фиксацией версии)
- [ ] `Dockerfile` — образ на базе `python:3.12-slim`, установка зависимостей, запуск приложения
- [ ] `docker-compose.yml` — сервис `web`, порт `5000:5000`, volume `./data:/app/data`

## Задание 1. Бэкенд (Python)

- [ ] `app/config.py` — путь к БД (`data/users.db`), настройки приложения
- [ ] `app/models.py` — работа с SQLite через `sqlite3`:
  - [ ] `init_db()` — создание таблицы `users` (id, name, email)
  - [ ] `seed_db()` — заполнение 3–5 тестовыми пользователями
  - [ ] `get_all_users()` — получение всех пользователей
  - [ ] `get_user_by_id(id)` — получение пользователя по id
- [ ] `app/routes.py` — маршруты (Blueprint):
  - [ ] `GET /users` — список всех пользователей (JSON)
  - [ ] `GET /users/<id>` — пользователь по id (JSON)
- [ ] `app/__init__.py` — фабрика приложения
- [ ] `app/app.py` — точка входа: создание Flask-app, регистрация Blueprint, вызов `init_db()`
- [ ] Обработка ошибок:
  - [ ] 404 — пользователь не найден
- [ ] **Проверка:** запуск, GET `/users` и GET `/users/<id>` возвращают JSON

## Задание 2. Фронтенд (JavaScript)

- [ ] `static/index.html` — самостоятельная HTML-страница:
  - [ ] Подключение Bootstrap 5 (CDN)
  - [ ] Таблица для отображения списка пользователей
  - [ ] Модальное окно с детальной информацией о пользователе
- [ ] `static/js/app.js` — клиентская логика:
  - [ ] `loadUsers()` — загрузка списка пользователей (Fetch API → GET `/users`)
  - [ ] Отрисовка таблицы
  - [ ] Обработчик клика по строке → Fetch API → GET `/users/<id>` → модальное окно
- [ ] `app/routes.py` — маршрут `GET /` для отдачи `static/index.html`
- [ ] **Проверка:** страница отображает таблицу, клик открывает модалку с деталями

## Задание 3. Интеграция (Python + JavaScript)

- [ ] `app/models.py` — добавить:
  - [ ] `create_user(name, email)` — создание нового пользователя
- [ ] `app/routes.py` — добавить:
  - [ ] `POST /users` — создание пользователя (JSON)
  - [ ] Валидация: 400 при пустом имени / некорректном email
- [ ] `static/index.html` — добавить:
  - [ ] Форма добавления нового пользователя
  - [ ] Область для уведомлений об успехе / ошибке
- [ ] `static/js/app.js` — добавить:
  - [ ] Отправка формы (POST, Fetch API)
  - [ ] Обновление таблицы без перезагрузки страницы
  - [ ] Показ уведомления об успехе / ошибке
- [ ] **Проверка:** форма отправляется, таблица обновляется, ошибки отображаются

## Docker

- [ ] **Проверка:** `docker-compose up --build`, приложение работает в контейнере

## Документация

- [ ] Дополнить `README.md` инструкцией по запуску

## Финальная проверка

- [ ] Сборка и запуск контейнера с нуля (без существующей БД)
- [ ] Seed-данные появились в таблице
- [ ] GET `/users` — JSON со списком
- [ ] GET `/users/<id>` — JSON с пользователем
- [ ] GET `/users/<несуществующий id>` — 404
- [ ] POST `/users` — создание пользователя
- [ ] POST `/users` с невалидными данными — 400
- [ ] Таблица обновляется после добавления без перезагрузки
- [ ] Модальное окно показывает детали по клику
- [ ] Данные сохраняются после перезапуска контейнера
