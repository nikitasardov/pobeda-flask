# Проект «pobeda-flask»

## Методология разработки

### Подход

Проект реализуется с использованием AI-ассистированной разработки (Cursor IDE).
Акцент сделан не на ручном написании кода, а на управлении процессом:
формализация требований → анализ и принятие решений → генерация кода → ревью → тестирование.

### Этапы

1. **Формализация требований.** Исходное задание разбирается на конкретные пункты.
   Выявляются неявные зависимости и пробелы (например, POST-эндпоинт,
   не указанный явно, но необходимый для выполнения задания 3).

2. **Анализ и принятие решений.** По каждому архитектурному вопросу
   (структура проекта, ORM vs raw SQL, объём CRUD, версия Python)
   фиксируется осознанный выбор с обоснованием.

3. **Планирование.** Составляется детальный чеклист с разбивкой по этапам.
   Каждый пункт — атомарная задача, которую можно выполнить и проверить
   независимо.

4. **Реализация с AI-ассистентом.** Код генерируется поэтапно, в соответствии
   с чеклистом. Каждый блок проверяется разработчиком перед переходом
   к следующему.

5. **Ревью и корректировка.** После генерации каждого модуля — проверка
   логики, стиля, обработки ошибок. Фиксируются все внесённые правки
   и выявленные проблемы.

6. **Тестирование.** Функциональная проверка всех эндпоинтов и UI
   в Docker-контейнере.

7. **Документирование.** README описывает проект и методологию,
   [CHECKLIST.md](CHECKLIST.md) отслеживает прогресс,
   [DEVLOG.md](DEVLOG.md) фиксирует ход разработки.

### Почему так

- Формализация до начала кодирования снижает количество переделок.
- Фиксация решений делает проект воспроизводимым и передаваемым.
- AI-ассистент ускоряет рутину, но ответственность за архитектуру
  и качество остаётся на разработчике.
- Атомарные коммиты по пунктам чеклиста дают прозрачную git-историю.

### Инструменты

| Назначение | Инструмент |
|---|---|
| IDE | Cursor |
| AI-ассистент | Cursor Agent |
| Контейнеризация | Docker, docker-compose |
| Контроль версий | Git |
| Язык бэкенда | Python 3.12 + Flask |
| База данных | SQLite 3 (встроенный модуль `sqlite3`) |
| Фронтенд | HTML + vanilla JS + Bootstrap 5 |

---

## Требования из задания

### Задание 1. Бэкенд (Python)

- Веб-приложение на Flask
- SQLite база данных с информацией о пользователях (id, имя, email)
- Эндпоинт `GET /users` — список всех пользователей (JSON)
- Эндпоинт `GET /users/<id>` — пользователь по id (JSON)
- Базовая обработка ошибок (пользователь не найден)

### Задание 2. Фронтенд (JavaScript)

- HTML-страница на vanilla JS
- Fetch API для получения данных с `/users`
- Таблица со списком пользователей
- По клику на пользователя — детальная информация в модальном окне
- Bootstrap для стилизации

### Задание 3. Интеграция (Python + JavaScript)

- Форма добавления нового пользователя
- Отправка данных на бэкенд через Fetch API
- Обновление списка пользователей без перезагрузки страницы
- Сообщение об успешном добавлении или ошибке

### Проверка

- Приложение работает локально
- Скриншоты работы приложения
- Краткое описание, как запустить приложение

---

## Решения, принятые по результатам анализа

- **Структура проекта**: модульная (config / models / routes / app) — лучше читаемость и расширяемость
- **Работа с БД**: чистый `sqlite3` без ORM — меньше зависимостей, ближе к основам
- **Seed-данные**: 3–5 тестовых пользователей при первой инициализации — для наглядной демонстрации
- **Объём CRUD**: строго по заданию — только GET + POST (без PUT/DELETE)
- **POST `/users` эндпоинт**: в задании 1 явно не указан, но необходим для выполнения задания 3
- **Валидация данных**: проверка обязательных полей и формата email при создании пользователя
- **Фронтенд**: самостоятельная HTML-страница (`static/index.html`), не зависит от Jinja2. Flask раздаёт её как статический файл
- **Docker**: контейнеризация на базе `python:3.12-slim`
- **Персистентность данных**: SQLite-файл хранится в `./data`, монтируется в контейнер как volume

---

## Структура проекта

```
pobeda-flask/
├── app/
│   ├── __init__.py
│   ├── config.py
│   ├── models.py
│   └── routes.py
├── static/
│   ├── index.html        # самостоятельная HTML-страница (не Jinja2-шаблон)
│   └── js/
│       └── app.js
├── data/                 # в .gitignore, монтируется в контейнер
├── Dockerfile
├── docker-compose.yml
├── requirements.txt
├── .gitignore
├── README.md             # методология, требования, решения
├── CHECKLIST.md          # чеклист реализации
├── DEVLOG.md             # журнал разработки
└── raw_task.txt          # исходное задание
```

---

## Документы проекта

| Файл | Назначение |
|---|---|
| [CHECKLIST.md](CHECKLIST.md) | Чеклист реализации — отслеживание прогресса |
| [DEVLOG.md](DEVLOG.md) | Журнал разработки — что сделано, что скорректировано, какие проблемы |
| [raw_task.txt](raw_task.txt) | Исходное задание (без изменений) |
